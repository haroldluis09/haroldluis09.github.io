<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width", intial-scale="1.0">
    <title>Register</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
</head>
<body>

  <a href="index.html">
    <img src="SerenLogo.PNG" alt="Seren Logo" class="logo" />
  </a>

  <div class="glass-container">

      <h2>Sign Up</h2>
      <form onsubmit="event.preventDefault(); signup();">
          <label for="email"> Email </label>
          <input type="text" id="email" name="email" required/>

          <label for="username"> Username </label>
          <input type="text" id="username" name="username" required/>

          <label for="password"> Password </label>
          <input type="password" id="password" name="password" required/>

          <label for="CP"> Confirm Password </label>
          <input type="password" id="confirm-password" name="confirm-password" required/>

      </form>
  </div>
// needed a backend because we kept getting 405 error. So, we'll use firebase
    <!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.5.0/firebase-auth.js"></script>

<script>
  // Our actual Firebase config
  const firebaseConfig = {
    apiKey: "AIzaSyCLAbnBIbcLWlvzA-KrIPhtKSDAhfxA3tg",
    authDomain: "serene-interface.firebaseapp.com",
    projectId: "serene-interface",
    storageBucket: "serene-interface.firebasestorage.app",
    messagingSenderId: "877337255174",
    appId: "1:877337255174:web:c898ec9d14f4e8cadd5287"
  };

  // Initialize Firebase
  firebase.initializeApp(firebaseConfig);
  const auth = firebase.auth();

  function signup() {
    const email = document.getElementById("email").value;
    const password = document.getElementById("password").value;
    const confirmPassword = document.getElementById("confirm-password").value;

    if (password !== confirmPassword) {
      alert("Passwords do not match!");
      return;
    }

    auth.createUserWithEmailAndPassword(email, password)
      .then(userCredential => {
        alert("Signup successful!");
        window.location.href = "login.html"; // redirect is successful 
      })
      .catch(error => {
        alert("Error: " + error.message);
      });
  }
</script>
    
</body>

</html>
